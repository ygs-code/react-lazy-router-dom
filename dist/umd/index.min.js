/*!
 * react-lazy-router-dom v0.0.2
 * (c) 2022-2023 yao guan shou (姚观寿) 281113270@qq.com
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("prop-types"),require("react"),require("@babel/runtime/regenerator"),require("hoist-non-react-statics")):"function"==typeof define&&define.amd?define(["exports","prop-types","react","@babel/runtime/regenerator","hoist-non-react-statics"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).ReactRouterDOM={},t.PropTypes,t.React,t._regeneratorRuntime,t.hoistStatics)}(this,(function(t,e,n,r,o){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var c=i(e),a=i(n),u=i(r),l=i(o);function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){a=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(a)throw i}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var d=function t(e){return t.loaderArr=[].concat(s(t.loaderArr),[e]),function(){return e().then((function(t){return t.default})).catch((function(t){throw new Error(t)}))}};d.loaderArr=[];function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}var h=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},v=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function b(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function g(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function S(t,e){return t.keys=e,t}function x(t){return t&&t.sensitive?"":"i"}function w(t,e,n){return function(t,e,n){h(e)||(n=e||n,e=[]);for(var r=(n=n||{}).strict,o=!1!==n.end,i="",c=0;c<t.length;c++){var a=t[c];if("string"==typeof a)i+=b(a);else{var u=b(a.prefix),l="(?:"+a.pattern+")";e.push(a),a.repeat&&(l+="(?:"+u+l+")*"),i+=l=a.optional?a.partial?u+"("+l+")?":"(?:"+u+"("+l+"))?":u+"("+l+")"}}var f=b(n.delimiter||"/"),s=i.slice(-f.length)===f;r||(i=(s?i.slice(0,-f.length):i)+"(?:"+f+"(?=$))?");i+=o?"$":r&&s?"":"(?="+f+"|$)";return S(new RegExp("^"+i,x(n)),e)}(function(t,e){for(var n,r=[],o=0,i=0,c="",a=e&&e.delimiter||"/";null!=(n=v.exec(t));){var u=n[0],l=n[1],f=n.index;if(c+=t.slice(i,f),i=f+u.length,l)c+=l[1];else{var s=t[i],p=n[2],y=n[3],d=n[4],m=n[5],h=n[6],S=n[7];c&&(r.push(c),c="");var x=null!=p&&null!=s&&s!==p,w="+"===h||"*"===h,$="?"===h||"*"===h,j=n[2]||a,C=d||m;r.push({name:y||o++,prefix:p||"",delimiter:j,optional:$,repeat:w,partial:x,asterisk:!!S,pattern:C?g(C):S?".*":"[^"+b(j)+"]+?"})}}return i<t.length&&(c+=t.substr(i)),c&&r.push(c),r}(t,n),e,n)}function $(t,e,n){return h(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return S(t,e)}(t,e):h(t)?function(t,e,n){for(var r=[],o=0;o<t.length;o++)r.push($(t[o],e,n).source);return S(new RegExp("(?:"+r.join("|")+")",x(n)),e)}(t,e,n):w(t,e,n)}var j={},C=0,E=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};("string"==typeof e||Array.isArray(e))&&(e={path:e});var n=e,r=n.path,o=void 0!==r&&r,i=n.exact,c=void 0!==i&&i,a=n.strict,u=void 0!==a&&a,l=n.sensitive,f=void 0!==l&&l;return[].concat(o).reduce((function(e,n){if(!n&&""!==n)return null;if(e)return e;var r=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=j[n]||(j[n]={});if(r[t])return r[t];var o=[],i={regexp:$(t,o,e),keys:o};return C<1e4&&(r[t]=i,C++),i}(n,{end:c,strict:u,sensitive:f}),o=r.regexp,i=r.keys,a=o.exec(t);if(!a)return null;var l=a[0],s=a.slice(1),p=t===l;return c&&!p?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:p,params:i.reduce((function(t,e,n){return t[e.name]=s[n],t}),{})}}),null)},O=function(t){var e=t.children;return e?n.Children.map(e,(function(e){return n.cloneElement(e,t)})):null};function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t){var e=function(t,e){if("object"!==m(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===m(e)?e:String(e)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_(r.key),r)}}function P(t,e,n){return e&&A(t.prototype,e),n&&A(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}function M(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}function I(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return k(t)}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}function N(t,e,n){return(e=_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=q(t);if(e){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}O.propTypes={component:c.default.oneOfType([c.default.func,c.default.object]).isRequired};var D,L,K=(D="Router",(L=n.createContext()).displayName=D,L),U=function(t){M(r,t);var e=B(r);function r(t){var n;R(this,r),N(k(n=e.call(this,t)),"computeRootMatch",(function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}}));var o=n.props,i=o.history,c=o.staticContext;return n.state={location:i.location},n._isMounted=!1,n._pendingLocation=null,c||(n.unlisten=i.listen((function(t){var e=t.location;n._pendingLocation=e}))),I(n,k(n))}return P(r,[{key:"componentDidMount",value:function(){var t=this;this._isMounted=!0;var e=this.props,n=e.staticContext,r=e.history;this.unlisten&&this.unlisten(),n||(this.unlisten=r.listen((function(e){var n=e.location;t._isMounted&&t.setState({location:n})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})}},{key:"componentWillUnmount",value:function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)}},{key:"render",value:function(){var t=this.props,e=t.children,r=t.staticContext,o=t.loading,i=t.history,c=t.routesComponent,a=this.state.location;return n.createElement(K.Provider,{value:{history:i,location:a,staticContext:r,loading:o,routesComponent:c},children:e?n.Children.only(e):null})}}]),r}(n.Component);function z(t,e,n,r,o,i,c){try{var a=t[i](c),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,o)}U.propTypes={history:c.default.object.isRequired,staticContext:c.default.object,routesComponent:c.default.array,loading:function(t,e,n){if(!t[e])return new Error("In component ".concat(n," props ").concat(e," type is invalid -- expected a ").concat(e," is component"));try{t[e]}catch(t){return new Error("In component ".concat(n," props ").concat(e," type is invalid -- expected a ").concat(e," is component"))}}};var V="production"===process.env.NODE_ENV,W="Invariant failed";function Y(t,e){if(!t){if(V)throw new Error(W);var n="function"==typeof e?e():e,r=n?"".concat(W,": ").concat(n):W;throw new Error(r)}}function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=q(t);if(e){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}var G=function(t){var e=n.createContext();return e.displayName=t,e}("Router-Match"),H=function(t){var e="function"==typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,c=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,s=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,y=e?Symbol.for("react.suspense_list"):60120,d=e?Symbol.for("react.memo"):60115,h=e?Symbol.for("react.lazy"):60116,v=e?Symbol.for("react.block"):60121,b=e?Symbol.for("react.fundamental"):60117,g=e?Symbol.for("react.responder"):60118,S=e?Symbol.for("react.scope"):60119;return t===o||t===f||t===c||t===i||t===p||t===y||"object"===m(t)&&null!==t&&(t.$$typeof===o||t.$$typeof===f||t.$$typeof===c||t.$$typeof===i||t.$$typeof===p||t.$$typeof===y||t.$$typeof===n||t.$$typeof===l||t.$$typeof===r||t.$$typeof===h||t.$$typeof===d||t.$$typeof===a||t.$$typeof===u||t.$$typeof===s||t.$$typeof===b||t.$$typeof===g||t.$$typeof===S||t.$$typeof===v)},J=function(){return a.default.createElement("div",null," ")},Q=function(t){M(r,t);var e=F(r);function r(t){var o;return R(this,r),N(k(o=e.call(this,t)),"getSyncComponent",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if("object Object"===Object.prototype.toString.call(t).slice(1,-1)){if(H(t))return t;t.__esModule&&(t=o.getSyncComponent(t.default,e))}else if("object Function"===Object.prototype.toString.call(t).slice(1,-1))t=t(o.props),t=o.getSyncComponent(t,e);else if("object Promise"===Object.prototype.toString.call(t).slice(1,-1))return o.resolveComponent(t,e).then((function(t){e(t)})),null;return t})),N(k(o),"resolveComponent",function(){var t,e=(t=u.default.mark((function t(e){var n,r=arguments;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:function(){},"object Promise"!==Object.prototype.toString.call(e).slice(1,-1)){t.next=10;break}return t.next=4,e;case 4:return e=t.sent,t.next=7,o.resolveComponent(e,n);case 7:e=t.sent,t.next=11;break;case 10:e=o.getSyncComponent(e,n);case 11:return t.abrupt("return",e);case 12:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function c(t){z(i,r,o,c,a,"next",t)}function a(t){z(i,r,o,c,a,"throw",t)}c(void 0)}))});return function(t){return e.apply(this,arguments)}}()),N(k(o),"getComponent",(function(){var t,e,r=o.state,i=r.AsynComponent,c=r.locationKey,u=r.match,l=o.props.children,f=o.context,s=f.history,p=void 0===s?{}:s,y=f.location,d=void 0===y?{}:y,m=f.routesComponent,h=void 0===m?[]:m,v=d.key;if(!Object.keys(o.context).length)throw new Error(Y(!1,"You should not use <Switch/> outside a <Router>"));if(v===c)return a.default.createElement(G.Provider,{value:{history:p,location:d,match:u}},a.default.createElement(i,{match:u,history:p,location:d,exact:u.isExact,routesComponent:h}));var b=null,g=null;return n.Children.forEach(l,(function(t){if(null===b){var e=t.props,n=e.path,r=e.exact,i=e.strict,c=e.sensitive,a=e.from,u=e.component,l=e.element,f=e.render,s=n||a;u=u||l||f,(b=E(d.pathname,{path:s,exact:r,strict:i,sensitive:c}))&&(g=o.getSyncComponent(u,(function(t){o.setState({isSync:!1,AsynComponent:t,match:b,locationKey:v})})),g&&o.setState({isSync:!0,AsynComponent:g,match:b,locationKey:v}))}})),g?a.default.createElement(G.Provider,{value:{history:p,location:d,match:b}},a.default.createElement(g,{match:b,history:p,location:d,exact:null===(t=b)||void 0===t?void 0:t.isExact,routesComponent:h})):a.default.createElement(G.Provider,{value:{history:p,location:d,match:b}},a.default.createElement(i,{match:b,history:p,location:d,exact:null===(e=b)||void 0===e?void 0:e.isExact,routesComponent:h}))})),o.state={AsynComponent:J,locationKey:"",match:null,isSync:!0},o}return P(r,[{key:"componentDidMount",value:function(){var t=this.context.loading;t&&this.setState({AsynComponent:t})}},{key:"render",value:function(){return this.getComponent()}}]),r}(n.Component);function X(){return X=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X.apply(this,arguments)}function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=q(t);if(e){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}Q.contextType=K,Q.propTypes={children:c.default.oneOfType([c.default.arrayOf(c.default.node),c.default.node]).isRequired};t.MatchContext=G,t.Route=O,t.Router=U,t.Switch=Q,t.__RouterContext=K,t.isValidElementType=H,t.lazy=d,t.matchPath=E,t.preloadReady=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=[],o=p(d.loaderArr);try{for(o.s();!(t=o.n()).done;){var i=t.value;r.push(i())}}catch(t){o.e(t)}finally{o.f()}return Promise.all(r).then((function(){e()})).catch((function(t){throw n(t),new Error(t)}))},t.withRouter=function(t){var e="withRouter("+(t.displayName||t.name)+")",r=function(r){M(i,r);var o=Z(i);function i(){return R(this,i),o.apply(this,arguments)}return P(i,[{key:"render",value:function(){var r=this;return n.createElement(G.Consumer,null,(function(n){return n||Y(!1,"You should not use <"+e+" /> outside a <Switch>"),a.default.createElement(t,X({},n,r.props))}))}}]),i}(n.Component);return r.displayName=e,r.WrappedComponent=t,l.default(r,t)},Object.defineProperty(t,"__esModule",{value:!0})}));
